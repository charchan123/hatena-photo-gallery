<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">

<!-- LightGallery CSS -->
<link rel="stylesheet" href="./lightgallery/lightgallery-bundle.min.css">
<link rel="stylesheet" href="./lightgallery/lg-thumbnail.css">

<style>
  body {
    margin: 0;
    font-family: sans-serif;
    background: #fafafa;
  }

  .gallery {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    padding: 10px;
    justify-content: center;
  }

  .gallery img {
    width: 180px; /* 可変サムネイルの基準幅 */
    height: auto;
    border-radius: 4px;
    cursor: pointer;
    transition: opacity .4s;
  }

  .gallery img:hover {
    opacity: 0.8;
  }
</style>

</head>
<body>

<h2 style="text-align:center;">Animated Thumbnails Test</h2>

<!-- ■ サンプルギャラリー -->
<div id="animated-thumbs" class="gallery">
  <!-- 好きな枚数をここに並べてOK -->
  <img src="https://cdn-ak.f.st-hatena.com/images/fotolife/e/exsudoporus_ruber/20250419/20250419222848.jpg" alt="">
  <img src="https://cdn-ak.f.st-hatena.com/images/fotolife/e/exsudoporus_ruber/20250425/20250425175303.jpg" alt="">
  <img src="https://cdn-ak.f.st-hatena.com/images/fotolife/e/exsudoporus_ruber/20250419/20250419223043.jpg" alt="">
</div>

<!-- LightGallery JS -->
<script src="./lightgallery/lightgallery.min.js"></script>
<script src="./lightgallery/lg-thumbnail.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const container = document.getElementById("animated-thumbs");
  const imgs = Array.from(container.querySelectorAll("img"));

  // LightGallery に渡す配列（thumb と big を同じにする）
  const items = imgs.map(img => ({
      src: img.src,
      thumb: img.src
  }));

  // サムネイルクリック → LightGallery 起動
  container.addEventListener("click", e => {
    const img = e.target.closest("img");
    if (!img) return;

    const index = imgs.indexOf(img);

    lightGallery(document.body, {
      dynamic: true,
      dynamicEl: items,
      index,
      plugins: [lgThumbnail],
      thumbnail: true,
      download: false,
      speed: 400,
      subHtml: '',     // ← タイトル非表示
    });
  });
});
</script>

</body>
</html>
