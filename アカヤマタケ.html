<h2>アカヤマタケ</h2><div class='gallery'><img src="https://example.com/img1.jpg" alt="アカヤマタケ" loading="lazy" data-url="https://charchan123.hatena.blog/"></div>
        <div style='margin-top:40px; text-align:center;'>
            <a href='javascript:history.back()' style='text-decoration:none;color:#007acc;'>← 戻る</a>
        </div>
        
<style>
body {
    font-family: "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
    background: #fafafa;
    color: #333;
    margin: 0;
    padding: 20px;
}
.gallery {
    column-count: 4;
    column-gap: 10px;
}
.gallery img {
    width: 100%;
    margin-bottom: 10px;
    border-radius: 6px;
    cursor: pointer;
    transition: transform 0.2s;
}
.gallery img:hover {
    transform: scale(1.03);
}
@media (max-width: 800px) {
    .gallery { column-count: 2; }
}
@media (max-width: 500px) {
    .gallery { column-count: 1; }
}
</style>

<script>
// Masonry風レイアウト調整
window.addEventListener('load', function() {
    document.querySelectorAll('.gallery').forEach(gallery => {
        gallery.querySelectorAll('img').forEach(img => {
            img.style.breakInside = 'avoid';
        });
    });
});
</script>

<!-- LightGallery CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.7.2/css/lightgallery-bundle.min.css">

<!-- LightGallery JS (プラグインは先に) -->
<script src="https://cdn.jsdelivr.net/npm/lightgallery@2.7.2/plugins/thumbnail/lg-thumbnail.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lightgallery@2.7.2/plugins/zoom/lg-zoom.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lightgallery@2.7.2/lightgallery.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function() {
    console.log("✅ LightGallery init start");
    console.log("window.lgThumbnail =", window.lgThumbnail);
    console.log("window.lgZoom =", window.lgZoom);

    const galleries = document.querySelectorAll('.gallery');
    galleries.forEach(gallery => {
        lightGallery(gallery, {
            plugins: [lgThumbnail, lgZoom],
            speed: 500,
            thumbnail: true
        });
    });

    console.log("✅ LightGallery initialized");
});
</script>
